# Sistema de Gestão de Pedidos - Environment Variables Template
# Copie este arquivo para .env e configure as variáveis conforme necessário

# =============================================================================
# DEVELOPMENT ENVIRONMENT
# =============================================================================

# Application Environment
ENVIRONMENT=docker
MESSAGING_TYPE=redis

# Database Configuration - Order Service (Event Store)
DATABASE_URL=jdbc:postgresql://localhost:5432/order_db
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=password

# Database Configuration - Query Service (Read Models)
QUERY_DATABASE_URL=jdbc:postgresql://localhost:5433/order_query_db
QUERY_DATABASE_USERNAME=postgres
QUERY_DATABASE_PASSWORD=password

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# RabbitMQ Configuration (only if MESSAGING_TYPE=rabbitmq)
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# Frontend Configuration
VITE_API_URL=http://localhost:8080
VITE_WS_URL=ws://localhost:8080/ws
VITE_ORDER_SERVICE_URL=http://localhost:8081
VITE_PAYMENT_SERVICE_URL=http://localhost:8082
VITE_INVENTORY_SERVICE_URL=http://localhost:8083
VITE_QUERY_SERVICE_URL=http://localhost:8084

# =============================================================================
# PRODUCTION ENVIRONMENT (RENDER)
# =============================================================================

# Application Environment
# ENVIRONMENT=render
# MESSAGING_TYPE=redis

# Database Configuration - Managed PostgreSQL
# DATABASE_URL=postgresql://user:password@host:port/database
# DATABASE_USERNAME=your_db_user
# DATABASE_PASSWORD=your_db_password

# Redis Configuration - Managed Redis
# REDIS_URL=redis://user:password@host:port

# Frontend Configuration - Production URLs
# VITE_API_URL=https://your-api-gateway.onrender.com
# VITE_ORDER_SERVICE_URL=https://order-service.onrender.com
# VITE_PAYMENT_SERVICE_URL=https://payment-service.onrender.com
# VITE_INVENTORY_SERVICE_URL=https://inventory-service.onrender.com
# VITE_QUERY_SERVICE_URL=https://order-query-service.onrender.com

# =============================================================================
# SECURITY & SECRETS
# =============================================================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRATION=86400
JWT_REFRESH_EXPIRATION=604800

# Encryption Keys
ENCRYPTION_KEY=your-32-char-encryption-key-here
ENCRYPTION_IV=your-16-char-iv-here

# API Keys (if using external services)
PAYMENT_GATEWAY_API_KEY=your_payment_gateway_key
PAYMENT_GATEWAY_SECRET=your_payment_gateway_secret

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Metrics Configuration
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# PERFORMANCE & SCALING
# =============================================================================

# JVM Configuration
JAVA_OPTS=-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0 -XX:+UseG1GC

# Connection Pool Configuration
DATABASE_CONNECTION_POOL_SIZE=10
DATABASE_CONNECTION_TIMEOUT=30000

# Redis Pool Configuration
REDIS_POOL_MAX_ACTIVE=8
REDIS_POOL_MAX_IDLE=8
REDIS_POOL_MIN_IDLE=0

# Cache Configuration
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Messaging Features
ENABLE_EVENT_SOURCING=true
ENABLE_CQRS=true
ENABLE_SAGA_PATTERN=true

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_RATE=50
CIRCUIT_BREAKER_WAIT_DURATION=60000

# Retry Configuration
RETRY_ENABLED=true
RETRY_MAX_ATTEMPTS=3
RETRY_DELAY=1000

# =============================================================================
# RENDER DEPLOYMENT SECRETS
# =============================================================================

# Render API Configuration (for CI/CD)
# RENDER_API_KEY=your_render_api_key

# Service IDs (generated by Render)
# RENDER_POSTGRES_SERVICE_ID=srv-xxx
# RENDER_REDIS_SERVICE_ID=srv-xxx
# RENDER_ORDER_SERVICE_ID=srv-xxx
# RENDER_PAYMENT_SERVICE_ID=srv-xxx
# RENDER_INVENTORY_SERVICE_ID=srv-xxx
# RENDER_QUERY_SERVICE_ID=srv-xxx
# RENDER_FRONTEND_SERVICE_ID=srv-xxx

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Docker Compose Profiles
COMPOSE_PROFILES=dev

# Hot Reload Configuration
SPRING_DEVTOOLS_RESTART_ENABLED=true
VITE_HMR_PORT=3001

# Debug Configuration
DEBUG_MODE=false
DEBUG_PORT=5005